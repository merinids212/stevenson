<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>STEVENSON — About</title>
<link rel="icon" type="image/svg+xml" href="favicon.svg">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  *, *::before, *::after {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }

  :root {
    --nav-height: 64px;
    --font: 'IBM Plex Mono', monospace;
    --black: #000;
    --white: #fff;
    --gray: #999;
    --ease: cubic-bezier(0.4, 0, 0.2, 1);
  }

  html, body {
    height: 100%;
    font-family: var(--font);
    background: var(--white);
    color: var(--black);
    -webkit-font-smoothing: antialiased;
  }

  ::-webkit-scrollbar { width: 0; height: 0; }

  nav {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: var(--nav-height);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--white);
    z-index: 100;
  }

  .nav-back {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    background: none;
    border: none;
    cursor: pointer;
    font-size: 22px;
    color: var(--black);
    padding: 4px;
    text-decoration: none;
    transition: opacity 0.2s;
  }

  .nav-back:hover { opacity: 0.5; }

  .nav-title {
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
  }

  .about-content {
    max-width: 560px;
    margin: 0 auto;
    padding: calc(var(--nav-height) + 60px) 24px 80px;
  }

  .about-content h1 {
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-bottom: 40px;
  }

  .about-content p {
    font-size: 13px;
    line-height: 1.8;
    color: #333;
    margin-bottom: 24px;
  }

  .about-content .stat {
    display: flex;
    justify-content: space-between;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
    font-size: 12px;
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }

  .about-content .stat-value {
    color: var(--gray);
  }

  .about-stats {
    margin-top: 48px;
    margin-bottom: 48px;
  }

  .about-link {
    display: inline-block;
    font-family: var(--font);
    font-size: 12px;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    color: var(--black);
    border: 1px solid var(--black);
    padding: 10px 28px;
    text-decoration: none;
    transition: background 0.2s, color 0.2s;
  }

  .about-link:hover {
    background: var(--black);
    color: var(--white);
  }
</style>
</head>
<body>

<nav>
  <a class="nav-back" href="index.html">&#8249;</a>
  <span class="nav-title">About</span>
</nav>

<div class="about-content">
  <h1>Stevenson</h1>

  <p>
    A curated index of paintings for sale across California,
    sourced from Craigslist listings in real time.
  </p>

  <p>
    Every listing is scraped, filtered, and presented in a
    clean gallery format. No accounts, no fees, no middlemen
    — just paintings and the people selling them.
  </p>

  <p>
    Each painting is scored by a CLIP ViT-L/14 vision model
    and the LAION improved-aesthetic-predictor, a neural network
    trained on human aesthetic ratings. Artist names are extracted
    from titles via pattern matching, and a value score surfaces
    underpriced gems — high art quality relative to asking price.
  </p>

  <div class="about-stats" id="stats"></div>

  <h1>How It Works</h1>

  <p>
    <strong>scraper.py</strong> — Crawls Craigslist art listings
    across California regions. Downloads metadata, images, prices,
    and locations into paintings.csv, then converts to paintings.json.
  </p>

  <p>
    <strong>scorer.py</strong> — Runs every painting through
    OpenAI's CLIP ViT-L/14 to extract visual embeddings (768-dim),
    then scores them three ways: the LAION aesthetic MLP (calibrated
    1–10), CLIP prompt quality (high vs low art similarity), and
    uniqueness (inverse average cosine similarity to all other
    paintings). The composite art score blends LAION (50%),
    prompt quality (20%), and uniqueness (30%). It also parses
    artist names from titles and computes a value score for
    gem finding.
  </p>

  <p>
    <strong>index.html</strong> — The gallery. Grid view with
    region and price filters, FLIP animations from thumbnail to
    detail, and a GEMS filter that sorts by value score.
  </p>

  <p>
    <strong>analytics.html</strong> — Dashboard with score
    distributions, style/region/medium breakdowns, and an
    explorer table for hunting specific paintings.
  </p>

  <a class="about-link" href="index.html">Browse Gallery</a>
</div>

<script>
  fetch('/api/stats')
    .then(r => r.json())
    .then(s => {
      const stats = [
        ['Listings', parseInt(s.total_listings).toLocaleString()],
        ['Regions', s.regions],
        ['Price range', `$${parseFloat(s.price_min).toLocaleString()} — $${parseFloat(s.price_max).toLocaleString()}`],
        ['Median price', `$${parseFloat(s.price_median).toLocaleString()}`],
        ['CLIP scored', parseInt(s.scored_count).toLocaleString()],
        ['Artists parsed', parseInt(s.artists_count).toLocaleString()],
        ['Model', 'ViT-L/14 + LAION MLP'],
      ];

      const container = document.getElementById('stats');
      stats.forEach(([label, value]) => {
        container.innerHTML += `<div class="stat"><span>${label}</span><span class="stat-value">${value}</span></div>`;
      });
    });
</script>

</body>
</html>
